% =====================  MACROS =====================
% Centralised custom macros and environments.
% Assumes required packages already loaded in preamble (tcolorbox, xcolor, pifont, etc.)

% Chapter divider rule
\newcommand{\chapterdivider}{\par\vspace{1.2\baselineskip}\hrule\vspace{1.2\baselineskip}}

% Overview tcolorbox environment (matches original styling)
\tcbset{overviewstyle/.style={colback=black!3,colframe=black!50,colbacktitle=black!60,coltitle=white,fonttitle=\bfseries,breakable,before upper={\parindent0pt}}}
\newtcolorbox{overview}[1][]{overviewstyle,title=Overview,#1}

% Timestamp macro (ISO 8601 build time placeholder)
\newcommand{\EscIsoNow}{2025-08-24T12:00:00Z}

% Mark symbols (check, cross, warning)
\newcommand{\cmark}{\textcolor{green!60!black}{\ding{51}}}
\newcommand{\xmark}{\textcolor{red!70!black}{\ding{55}}}
\newcommand{\warn}{\textcolor{orange!90!black}{\textbf{!}}}

% Dynamic metrics (auto-generated by unified_analysis.py if available) -- REQUIRED (no fallbacks)
\IfFileExists{toolset/metrics_macros.tex}{\input{toolset/metrics_macros}}{\errmessage{Missing toolset/metrics_macros.tex -- run `make analyze` first}}

% ---- Plot / figure toggles ----
\newif\iffinalplots           % master toggle for switching placeholders -> final assets
%\finalplotstrue               % uncomment when final plots available

% ---- Repro / parameter anchors ----
\newcommand{\contracthash}{0xABC123..789}
\newcommand{\batchsweetspot}{128}
\newcommand{\missionimages}{10000}
\newcommand{\defaultseed}{1337}

% ---- Styled roadmap tcolorbox helper ----
\newtcolorbox{roadmapbox}{colback=gray!5,colframe=gray!40,title=Quick-glance Roadmap,fonttitle=\bfseries}

% ---- Key takeaway macro ----
\newcommand{\keytakeaway}[1]{\par\textit{Key takeaway: #1}}

% ---- Hyphenation helpers ----
\hyphenation{water-mark watermark-ing stega-no-graph-ic meta-data proto-type}
